{"version":3,"sources":["../../src/sqlFragmentFactories/createValueListSqlFragment.js"],"names":["token","greatestParameterPosition","values","placeholders","placeholderIndex","length","UnexpectedStateError","listValue","push","sql","join"],"mappings":";;;;;;;AAMA;;oCAIgBA,K,EAA8BC,yB,KAAuD;AACnG,QAAMC,MAAM,GAAG,EAAf;AACA,QAAMC,YAAY,GAAG,EAArB;AAEA,MAAIC,gBAAgB,GAAGH,yBAAvB;;AAEA,MAAID,KAAK,CAACE,MAAN,CAAaG,MAAb,KAAwB,CAA5B,EAA+B;AAC7B,UAAM,IAAIC,4BAAJ,CAAyB,yCAAzB,CAAN;AACD;;AAED,OAAK,MAAMC,SAAX,IAAwBP,KAAK,CAACE,MAA9B,EAAsC;AACpCC,IAAAA,YAAY,CAACK,IAAb,CAAkB,MAAM,EAAEJ,gBAA1B;AAEAF,IAAAA,MAAM,CAACM,IAAP,CAAYD,SAAZ;AACD;;AAED,QAAME,GAAG,GAAGN,YAAY,CAACO,IAAb,CAAkB,IAAlB,CAAZ;AAEA,SAAO;AACLD,IAAAA,GADK;AAELP,IAAAA;AAFK,GAAP;AAID,C","sourcesContent":["// @flow\n\nimport type {\n  SqlFragmentType,\n  ValueListSqlTokenType\n} from '../types';\nimport {\n  UnexpectedStateError\n} from '../errors';\n\nexport default (token: ValueListSqlTokenType, greatestParameterPosition: number): SqlFragmentType => {\n  const values = [];\n  const placeholders = [];\n\n  let placeholderIndex = greatestParameterPosition;\n\n  if (token.values.length === 0) {\n    throw new UnexpectedStateError('Value list must have at least 1 member.');\n  }\n\n  for (const listValue of token.values) {\n    placeholders.push('$' + ++placeholderIndex);\n\n    values.push(listValue);\n  }\n\n  const sql = placeholders.join(', ');\n\n  return {\n    sql,\n    values\n  };\n};\n"],"file":"createValueListSqlFragment.js"}