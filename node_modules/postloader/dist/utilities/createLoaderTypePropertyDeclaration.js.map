{"version":3,"sources":["../../src/utilities/createLoaderTypePropertyDeclaration.js"],"names":["log","Logger","child","namespace","loaderName","dataTypeName","resourceName","resultIsArray","keyType","error","Error"],"mappings":";;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAGC,gBAAOC,KAAP,CAAa;AACvBC,EAAAA,SAAS,EAAE;AADY,CAAb,CAAZ;;eAIe,CAACC,UAAD,EAAqBC,YAArB,EAA2CC,YAA3C,EAAiEC,aAAjE,KAA4F;AACzG,MAAIC,OAAJ;;AAEA,MAAI,2BAAaH,YAAb,CAAJ,EAAgC;AAC9BG,IAAAA,OAAO,GAAG,QAAV;AACD,GAFD,MAEO,IAAI,2BAAaH,YAAb,CAAJ,EAAgC;AACrCG,IAAAA,OAAO,GAAG,QAAV;AACD,GAFM,MAEA;AACLR,IAAAA,GAAG,CAACS,KAAJ,CAAU;AACRJ,MAAAA,YADQ;AAERD,MAAAA,UAFQ;AAGRE,MAAAA,YAHQ;AAIRC,MAAAA;AAJQ,KAAV,EAKG,mDALH;AAOA,UAAM,IAAIG,KAAJ,CAAU,0BAAV,CAAN;AACD;;AAED,MAAIH,aAAJ,EAAmB;AACjB,WAAO,MAAMH,UAAN,GAAmB,eAAnB,GAAqCI,OAArC,GAA+C,mBAA/C,GAAqE,6BAAeF,YAAf,CAArE,GAAoG,IAA3G;AACD,GAFD,MAEO;AACL,WAAO,MAAMF,UAAN,GAAmB,eAAnB,GAAqCI,OAArC,GAA+C,IAA/C,GAAsD,6BAAeF,YAAf,CAAtD,GAAqF,GAA5F;AACD;AACF,C","sourcesContent":["// @flow\n\nimport Logger from '../Logger';\nimport formatTypeName from './formatTypeName';\nimport isNumberType from './isNumberType';\nimport isStringType from './isStringType';\n\nconst log = Logger.child({\n  namespace: 'createLoaderTypePropertyDeclaration'\n});\n\nexport default (loaderName: string, dataTypeName: string, resourceName: string, resultIsArray: boolean) => {\n  let keyType: 'number' | 'string';\n\n  if (isNumberType(dataTypeName)) {\n    keyType = 'number';\n  } else if (isStringType(dataTypeName)) {\n    keyType = 'string';\n  } else {\n    log.error({\n      dataTypeName,\n      loaderName,\n      resourceName,\n      resultIsArray\n    }, 'key type cannot be resolved to a string or number');\n\n    throw new Error('Cannot resolve key type.');\n  }\n\n  if (resultIsArray) {\n    return '+' + loaderName + ': DataLoader<' + keyType + ', $ReadOnlyArray<' + formatTypeName(resourceName) + '>>';\n  } else {\n    return '+' + loaderName + ': DataLoader<' + keyType + ', ' + formatTypeName(resourceName) + '>';\n  }\n};\n"],"file":"createLoaderTypePropertyDeclaration.js"}